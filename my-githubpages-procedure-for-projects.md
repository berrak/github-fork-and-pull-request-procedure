# Create GitHub web pages for your project

Keep `GitHub Pages` for projects in the same repository as the main project, e.g., `LedTask`, but in a separate `gh-pages` branch. Use the `master` branch for core content, i.e., your project library source code.

You can quickly do this by "orphan" -ing off a `gh-pages` branch of the repository. This new `orphan branch` has no history and commits, which allows you to make a new webpages history independent of your original library source code. 

I will create a `GitHub Page` (GHP) for my project `LedTask`. I intend to publish class documentation generated by `Doxygen`. I only push static web pages and do not use GitHub Jekyll webpages machinery to build the site. 

Once you check out the new `gh-pages` branch (with the `--orphan` option), firstly remove everything git knows with `git rm -rf .`, instead of committing all untracked files in this new branch. Note the '`.`' not '`*`'.

The alias `git sw2` is really `git checkout`, and `git sta` is `git status`. It's just a little shorter and easier to remember.
```
cd LedTask
git sw2 --orphan gh-pages        
git sta
git rm -fr .
```

It's possible to keep the GHP source in the `root`-folder or in a subdirectory named `/docs`. However, Doxygen generates lots of files in the same directory. Therefore I chose the latter alternative with `/docs`. Since we will push ready-made static web pages, we add the `.nojekyll` file in the root as [required](https://docs.github.com/en/pages/getting-started-with-github-pages/about-github-pages#static-site-generators). It probably a good idea to add the `.gitignore` from the `master` branch.

```
git init
mkdir docs
.gitignore
touch .nojekyll
git add .
git commit -m 'initial Github web pages commit'
```

The branch contains likely other files and directories, excluded with the `.gitignore`. First, remove all leftover files and directories since they serve no purpose for GHP. After this, the root folder contains only this.

```
../LedTask (gh-pages)$ ls -la
    total 20
    drwxr-xr-x 4 bekr bekr 4096 Sep  4 21:44 .
    drwxr-xr-x 8 bekr bekr 4096 Sep  4 19:38 ..
    drwxr-xr-x 2 bekr bekr 4096 Sep  4 21:37 docs
    drwxr-xr-x 8 bekr bekr 4096 Sep  4 21:39 .git
    -rw-r--r-- 1 bekr bekr  214 Sep  4 11:31 .gitignore
    -rw-r--r-- 1 bekr bekr    0 Sep  4 21:38 .nojekyll
```

## Add static content for GHP site 'https://berrak.github.io/LedTask/'

Copy generated Doxygen content, i.e., all files recursively from the `/html` folder to `/docs` in the `gh-pages` branch.

- Push the documentation.
```
git add .
git com -m 'add GHP content'
git push
```
If this is a new repository use `git remote` first, but in this case the repository is already in use.
```
git remote add origin https://github.com/berrak/LedTask.git
git vre
git push -u origin gh-pages
```

Follow [GitHub instruction](https://docs.github.com/en/pages/getting-started-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site) to name the branch for your GHP files. 

Finally, view the `Doxygen` generated class documentation for the project [LedTask](https://berrak.github.io/LedTask/).

## Update GHP content

Push the new content to the GitHub repository.

```
git push
```

## Work with 'master' and 'gh-pages` branches

Switch to `master` branch and push new core content as usual.

```
git sw2 master
git push
```

If GHP needs to be updated, switch to `gh-pages` branch and push changes.

```
git sw2 gh-pages
git push
```
